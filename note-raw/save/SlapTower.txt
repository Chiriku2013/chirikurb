-- üç≠ Chiriku Auto Collector | Dual Slap Model Support Edition
-- ‚úÖ TP ƒë∆∞·ª£c c·∫£ workspace.Slap v√† workspace.Model.Slap
-- ‚úÖ Delay 1s, TP t·ª©c th√¨, toggle UI, kh√¥ng tr√πng
-- ‚úÖ D√πng ƒë∆∞·ª£c tr√™n Delta & Solara (PC/Mobile)

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local CoreGui = game:GetService("CoreGui")

-- üß† H√†m TP t·ª©c th√¨ (Model ho·∫∑c Part)
local function TeleportTo(target)
	if not LocalPlayer.Character or not LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then return end
	local root = LocalPlayer.Character.HumanoidRootPart
	local pos
	if target:IsA("Model") then
		if target.PrimaryPart then
			pos = target.PrimaryPart.Position
		else
			for _, p in ipairs(target:GetDescendants()) do
				if p:IsA("BasePart") then
					pos = p.Position
					break
				end
			end
		end
	elseif target:IsA("BasePart") then
		pos = target.Position
	end
	if pos then
		root.CFrame = CFrame.new(pos + Vector3.new(0, 3, 0))
	end
end

-- üßç Reconnect khi respawn
LocalPlayer.CharacterAdded:Connect(function(char)
	repeat task.wait() until char:FindFirstChild("HumanoidRootPart")
end)

-- üåô UI
local ScreenGui = Instance.new("ScreenGui", CoreGui)
ScreenGui.Name = "ChirikuCollectorUI"

-- üç≠ Toggle n√∫t m·ªü UI
local ToggleButton = Instance.new("TextButton", ScreenGui)
ToggleButton.Size = UDim2.new(0, 45, 0, 45)
ToggleButton.Position = UDim2.new(0, 10, 0.4, 0)
ToggleButton.Text = "üç≠"
ToggleButton.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
ToggleButton.TextSize = 24
ToggleButton.TextColor3 = Color3.fromRGB(255, 255, 0)
ToggleButton.Font = Enum.Font.GothamBold
local UICornerT = Instance.new("UICorner", ToggleButton)
UICornerT.CornerRadius = UDim.new(0, 12)

-- üß© Khung ch√≠nh
local Frame = Instance.new("Frame", ScreenGui)
Frame.Size = UDim2.new(0, 250, 0, 120)
Frame.Position = UDim2.new(0.03, 0, 0.35, 0)
Frame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
Frame.BackgroundTransparency = 0.2
Frame.BorderSizePixel = 0
Frame.Active = true
Frame.Draggable = true
Frame.Visible = true
Instance.new("UICorner", Frame).CornerRadius = UDim.new(0, 12)

local Title = Instance.new("TextLabel", Frame)
Title.Size = UDim2.new(1, 0, 0, 30)
Title.Text = "üç¨ Chiriku Auto Collector"
Title.BackgroundTransparency = 1
Title.TextColor3 = Color3.fromRGB(255, 255, 0)
Title.Font = Enum.Font.GothamBold
Title.TextSize = 16

local CandyButton = Instance.new("TextButton", Frame)
CandyButton.Size = UDim2.new(1, -20, 0, 30)
CandyButton.Position = UDim2.new(0, 10, 0, 40)
CandyButton.Text = "Auto Collect Candy: OFF"
CandyButton.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
CandyButton.TextColor3 = Color3.fromRGB(255, 255, 255)
CandyButton.Font = Enum.Font.GothamBold
CandyButton.TextSize = 14

local SlapButton = Instance.new("TextButton", Frame)
SlapButton.Size = UDim2.new(1, -20, 0, 30)
SlapButton.Position = UDim2.new(0, 10, 0, 80)
SlapButton.Text = "Auto Collect Slap: OFF"
SlapButton.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
SlapButton.TextColor3 = Color3.fromRGB(255, 255, 255)
SlapButton.Font = Enum.Font.GothamBold
SlapButton.TextSize = 14

-- üß© Tr·∫°ng th√°i
getgenv().AutoCandy = false
getgenv().AutoSlap = false

-- üç¨ Candy Collect (BasePart)
task.spawn(function()
	while task.wait() do
		if getgenv().AutoCandy then
			local blacklist = {}
			local lastSuper = 0
			for _, v in pairs(workspace:GetChildren()) do
				if not getgenv().AutoCandy then break end
				if (v.Name == "CandyCorn" or v.Name == "SuperCandyCorn") and v:IsA("BasePart") then
					if not table.find(blacklist, v) then
						table.insert(blacklist, v)
						if v.Name == "SuperCandyCorn" then
							if tick() - lastSuper >= 30 then
								lastSuper = tick()
								TeleportTo(v)
								task.wait(1)
							end
						else
							TeleportTo(v)
							task.wait(1)
						end
					end
				end
			end
		end
	end
end)

-- üñêÔ∏è Slap Collect (Model ho·∫∑c Model.Slap)
task.spawn(function()
	while task.wait() do
		if getgenv().AutoSlap then
			local blacklist = {}
			
			-- T√¨m Slap ·ªü m·ªçi c·∫•p
			local function findSlaps(parent)
				for _, v in pairs(parent:GetChildren()) do
					if not getgenv().AutoSlap then break end
					if v.Name == "Slap" and v:IsA("Model") then
						if not table.find(blacklist, v) then
							table.insert(blacklist, v)
							TeleportTo(v)
							task.wait(1)
						end
					elseif v:IsA("Model") or v:IsA("Folder") then
						findSlaps(v) -- ƒë·ªá quy t√¨m trong Model/Folder
					end
				end
			end

			findSlaps(workspace)
		end
	end
end)

-- ‚ö° N√∫t Candy
CandyButton.MouseButton1Click:Connect(function()
	getgenv().AutoCandy = not getgenv().AutoCandy
	CandyButton.Text = "Auto Collect Candy: " .. (getgenv().AutoCandy and "ON" or "OFF")
	CandyButton.BackgroundColor3 = getgenv().AutoCandy and Color3.fromRGB(0, 200, 0) or Color3.fromRGB(45, 45, 45)
end)

-- ‚ö° N√∫t Slap
SlapButton.MouseButton1Click:Connect(function()
	getgenv().AutoSlap = not getgenv().AutoSlap
	SlapButton.Text = "Auto Collect Slap: " .. (getgenv().AutoSlap and "ON" or "OFF")
	SlapButton.BackgroundColor3 = getgenv().AutoSlap and Color3.fromRGB(0, 200, 0) or Color3.fromRGB(45, 45, 45)
end)

-- üéõÔ∏è Toggle UI
ToggleButton.MouseButton1Click:Connect(function()
	Frame.Visible = not Frame.Visible
end)

print("‚úÖ Chiriku Auto Collector (Dual Slap Model) Loaded!")